<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <!--    标题图片-->
    <link rel="shortcut icon" href="../static/images/favicon.ico">
    <title>分类</title>
    <link href="../static/css/bootstrap.min.css" rel="stylesheet">
    <link href="../static/css/index.css" rel="stylesheet">
    <script src="../static/js/jsTool/jQuery.js"></script>
    <script src="../static/js/jsTool/bootstrap.min.js"></script>
    <script src="../static/js/index.js"></script>
</head>

<body>
    <div class="container-fluid">
        <!-- 导航 -->
        <div class="row" th:replace="index::index_nav">
            <nav class="navbar navbar-default index_nav navbar-static-top">
                <div class="container-fluid">
                    <!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header">
                        <button aria-expanded="false" class="navbar-toggle collapsed" data-target="#bs-example-navbar-collapse-1"
                            data-toggle="collapse" type="button">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <span class="navbar-brand">Sun</span>
                    </div>

                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <ul class="nav navbar-nav">
                            <li><a href="/">首页</a></li>
                            <li><a href="/classify">分类</a></li>
                            <li><a href="/templates/labels.html">标签</a></li>
                            <li><a href="/templates/file.html">归档</a></li>
                            <li><a href="/templates/myself.html">关于我</a></li>
                        </ul>
                        <form class="navbar-form navbar-left">
                            <div class="form-group">
                                <input class="form-control" placeholder="Search" type="text">
                            </div>
                            <button class="btn btn-default" type="submit">搜索</button>
                        </form>
                        <ul class="nav navbar-nav navbar-right">
                            <li><a href="#">登入</a></li>
                            <li><a href="#">注册</a></li>
                        </ul>
                    </div><!-- /.navbar-collapse -->
                </div><!-- /.container-fluid -->
            </nav>
        </div>
        <!-- 中间内容 -->
        <div class="container book_text">
            <div class="row">
                <div class="col-md-12 typeTop">
                    <div class="row">
                        <div class="h4 col-md-10 col-sm-10 col-xs-9">分类</div>
                        <div class="col-md-2 col-sm-2 col-xs-3">共<span class="pagers" th:text="${blogInit.getTotal()}">15</span>篇</div>
                    </div>
                    <div class="row label_list">
                        <a class="btn btn-success btn-sm" href="#" th:each="e:${typeList}" th:href="@{/classify/}+${e.name}" th:text="${e.name}">JavaScript</a>
                    </div>
<!--                    主体内容-->
                    <div class="typeList" th:fragment="typeList">
                        <div class="row" th:each="e1:${blogInit.getRecords()}">
                            <div class="pager_text col-md-8 col-sm-8 col-xs-8">
                                <div>
                                    <a target="_blank" th:href="@{/blogDetails/}+${e1.id}">
                                        <div class="h5 text-left" th:text="${e1.title}">
                                            标题
                                        </div>
                                        <div class="text-body" th:text="${e1.content}">
                                            基本上都放假不减肥白金卡讲课费被绑架案说法看吧八分裤卡萨本菲卡随机播放康巴什翻倍卡就是不付款节哀顺变附件加快步伐时间把伤口加班费加咖啡包快捷键哈飞科技按实际缴费卡斯柯建安费八级司法部
                                        </div>
                                    </a>
                                    <div class="author" th:value="${e1.id}">
                                        <img alt="" src="../static/images/tx.jpeg">
                                        <span class="info">张三&nbsp;&nbsp;&nbsp;<span th:text="${e1.createTime}">2022-12-26</span></span>
                                        <span class="count"> 浏览量: <span th:text="${e1.views}">123</span> </span>
                                        <span class="btn-sm typeName right btn-primary" th:text="${e1.type.name}"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-4 col-xs-4">
                                <img alt="" class="img-responsive" src="../static/images/tx.jpeg">
                            </div>
                        </div>
                        <div class="next col-md-8 row" style="padding: 0" th:value="${blogInit.pages}">
                            <button class="btn btn-default pull-left previous_page youngblue" style="margin: 0" th:value="${blogInit.getCurrent()-1}" type="button">上一页</button>
                                <button class="btn btn-default pull-right next_page youngblue" th:value="${blogInit.getCurrent()+1}" type="button" >下一页</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- 底部 -->
    <div class="container-fluid index_bottom">
        <div class="row">
            <ul class="bottom_list">
                <li class="col-md-4 col-md-4 hidden-xs"><img alt="扫一扫联系我" src="../static/images/wx.jpg" width="100px"></li>
                <li class="col-md-2 col-sm-2 col-xs-6">
                    <dl>
                        <dt>最新博客</dt>
                        <dd>1</dd>
                        <dd>2</dd>
                    </dl>
                </li>
                <li class="col-md-2 col-sm-2 col-xs-6">
                    <dl>
                        <dt>联系我</dt>
                        <dd>Email: 2367283463@qq.com</dd>
                        <dd>QQ: 2367283463</dd>
                    </dl>
                </li>
                <li class="col-md-4 col-sm-4 hidden-xs">
                    <dl>
                        <dt>座右铭</dt>
                        <dd>这是我的个人博客，在这里会分享编程，心得，写作，思考</dd>
                    </dl>
                </li>
            </ul>
        </div>
        <div class="row">
            <p>Copyright 2022 -- 2023 @Sun</p>
        </div>
    </div>
</body>
<script>
    $(function () {
        const pages=$(".next").attr("value");
        const typeName=$(".typeName:first").text()
        $("body").on("click",".previous_page",function () {
            let num=$(".previous_page").attr("value");
            let url="/classify/"+typeName+"/"+num
            if (num==0){
                alert("这是第一页")
            }else {
                $.ajax({
                    url:url,
                    type:"get",
                    success:function (data) {
                        $(".typeList").remove();
                        $(".typeTop").append(data);
                    }
                })
            }
        })
        $("body").on("click",".next_page",function () {
            let num=$(".next_page").attr("value");
            let url="/classify/"+typeName+"/"+num
            num=parseInt(num);
            if (num>pages){
                alert("这是最后一页了")
            }else {
                $.ajax({
                    url:url,
                    type:"get",
                    success:function (data) {
                        $(".typeList").remove();
                        $(".typeTop").append(data);
                    }
                })
            }
        })
    })
</script>
</html>